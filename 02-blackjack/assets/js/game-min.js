const miModulo=(()=>{"use strict";let e=document.querySelector("body"),t=document.querySelector("#btnPedir"),a=document.querySelector("#btnDetener"),l=document.querySelector("#btnNuevo"),s=document.querySelectorAll("span"),r=document.querySelectorAll(".div-cartas"),d=[],n=["C","D","H","S"],o=["A","J","Q","K"],i=[],c=(e=2)=>{d=u(),i=[];for(let l=0;l<e;l++)i.push(0);s.forEach(e=>e.textContent=0),a.disabled=!1,t.disabled=!1,r.forEach(e=>E(e))},u=()=>{d=[];let e="";for(let t=2;t<=10;t++)for(e of n)d.push(t+e);for(let a of n)for(let l of o)d.push(l+a);return _.shuffle(d)},p=()=>{if(0===d.length){m("No hay m\xe1s cartas");return}return d.pop()},h=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:Number(t)},b=(e,t)=>(i[e]+=h(t),s[e].textContent=i[e],i[e]),C=(e,t)=>{let a=document.createElement("IMG");a.classList.add("carta"),a.src=`assets/cartas/${e}.png`,r[t].appendChild(a)},$=()=>{let[e,t]=i;e===t?m("Empate!"):t>21?m("Ganaste!"):t>e&&t<=21&&m("Gano la computadora")},f=e=>{let t=0;do{let a=p();t=b(i.length-1,a),C(a,i.length-1)}while(t<e&&e<=21);$()};function m(t){let a=document.createElement("DIV");a.classList.add("toast-container","top-0","end-0","p-3"),a.setAttribute("data-bs-theme","dark");let l=document.createElement("DIV");l.classList.add("toast"),l.role="alert",l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true");let s=document.createElement("DIV");s.classList.add("toast-header");let r=document.createElement("STRONG");r.classList.add("me-auto"),r.textContent="BlackJack";let d=document.createElement("SMALL");d.textContent="Justo Ahora";let n=document.createElement("BUTTON");n.type="button",n.classList.add("btn-close"),n.setAttribute("data-bs-dismiss","toast"),n.setAttribute("aria-label","Close");let o=document.createElement("DIV");o.classList.add("toast-body"),o.textContent=t,s.appendChild(r),s.appendChild(d),s.appendChild(n),l.appendChild(s),l.appendChild(o),a.appendChild(l);let i=bootstrap.Toast.getOrCreateInstance(l);i.show(),e.appendChild(a)}function E(e){for(;e.firstChild;)e.removeChild(e.firstChild)}return t.addEventListener("click",()=>{let e=p(),l=b(0,e);C(e,0),l>21?(m("Gano la computadora"),t.disabled=!0,a.disabled=!0,f(l)):21===l&&(m("21! Genial"),t.disabled=!0,a.disabled=!0,f(l))}),a.addEventListener("click",()=>{a.disabled=!0,t.disabled=!0,f(i[0])}),l.addEventListener("click",()=>{c()}),{nuevoJuego:c}})();